{"version":3,"sources":["webpack:///./src/app/tab2/tab2.module.ts","webpack:///./src/app/tab2/tab2.page.html","webpack:///./src/app/tab2/tab2.page.scss","webpack:///./src/app/tab2/tab2.page.ts"],"names":[],"mappings":"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","file":"tab2-tab2-module.js","sourcesContent":["import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: Tab2Page }])\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","module.exports = \"<ion-header>\\n    <ion-toolbar>\\n<!--        <ion-icon name=\\\"arrow-back\\\" *ngIf = \\\"listLevel\\\" (click)=\\\"listBack()\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-icon name=\\\"arrow-back\\\" *ngIf = \\\"itemLevel\\\" (click)=\\\"itemBack()\\\" slot=\\\"start\\\"></ion-icon>-->\\n        <ion-button *ngIf = \\\"listLevel\\\" slot=\\\"start\\\" (click)=\\\"listBack()\\\">\\n            <ion-icon  name=\\\"arrow-back\\\"></ion-icon>\\n        </ion-button>      \\n\\n        <ion-button *ngIf = \\\"itemLevel\\\" slot=\\\"start\\\" (click)=\\\"itemBack()\\\">\\n            <ion-icon  name=\\\"arrow-back\\\"></ion-icon>\\n        </ion-button>  \\n\\n\\n        <ion-title>\\n            Меню локации\\n        </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n    <ion-list *ngIf = \\\"groupLevel\\\">\\n        <ion-item *ngFor=\\\"let g of menuGroups[0]\\\" (click)=\\\"itemClick(g.id)\\\">\\n            <ion-label >{{g.name}}</ion-label >\\n\\n\\n        </ion-item>\\n\\n    </ion-list>\\n\\n    <ion-list *ngIf = \\\"listLevel\\\">\\n        <ion-item *ngFor=\\\"let i of menuList[0]\\\" (click)=\\\"itemListClick(i.id, i.name, i.node, i.price)\\\">\\n            <div class=\\\"ion-text-start\\\">\\n                {{i.name}}\\n            </div>\\n            <div slot=\\\"end\\\" >\\n                {{i.price}} руб.\\n            </div>\\n            <!--            <ion-label slot=\\\"start\\\">{{i.name}}</ion-label>\\n                        <ion-label slot=\\\"end\\\">{{i.price}} руб.</ion-label >-->\\n        </ion-item>\\n\\n    </ion-list>\\n    <ion-card *ngIf = \\\"itemLevel\\\">\\n        <ion-card-title>{{itemname}}</ion-card-title>\\n        <ion-card-content>\\n            <p>Описание: {{itemnode}}</p>\\n            <p>Цена: {{itemprice}} руб.</p>\\n\\n        </ion-card-content>\\n    </ion-card>\\n\\n\\n\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MifQ== */\"","import {Component} from '@angular/core';\nimport {Storage} from '@ionic/storage';\nimport {globalVars} from '../global_vars';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\n\n@Component({\n    selector: 'app-tab2',\n    templateUrl: 'tab2.page.html',\n    styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n    menuGroups: any[] = [];\n\n    menuList = null\n    groupLevel = null;\n    listLevel = null;\n    itemLevel = null;\n    itemid = null;\n    itemname = null;\n    itemnode = null;\n    itemprice = null;\n    constructor(\n        public http: HttpClient,\n        public storage: Storage\n\n\n    ) {\n        //        this.menuGroups = [\n        //            \"menu 1\",\n        //            \"menu 2\",\n        //            \"menu 3\"\n        //        ];\n        this.groupLevel = true;\n        this.listLevel = false;\n        this.itemLevel = false;\n        storage.get('clientid').then((val) => {\n            if (val) {\n\n                let pd = {\n                    \"an\": 0,\n                    \"condition\": [\n                        {\"field\": \"clientid\", \"value\": val}\n                    ]\n\n                };\n                this.http.post(globalVars.apiServerIp + \":\" + globalVars.apiServerPort + \"/table/menugroup/action/get\", pd, {})\n\n                    .subscribe(\n                        data => {\n\n\n                            if (JSON.stringify(data) !== '[]') {\n                                this.menuGroups = Array.of(data);\n                                //alert(JSON.stringify(this.menuGroups[0]));\n                                //alert(JSON.stringify(this.menuGroups));\n\n                            } else {\n                                alert(\"Меню для локации не задано!\");\n                            }\n\n\n                        },\n                        error => {\n\n                            alert(JSON.stringify(error) + \" Сервер не отвечает.Ошибка подключения!\");\n                        })\n            }\n            else{\n                alert('Сканируйте QR код локации!');\n            }\n        });\n\n    }\n    itemClick(id) {\n        let pd = {\n            \"an\": 0,\n            \"condition\": [\n                {\"field\": \"groupid\", \"value\": id}\n            ]\n\n        };\n        this.http.post(globalVars.apiServerIp + \":\" + globalVars.apiServerPort + \"/table/menu/action/get\", pd, {})\n\n            .subscribe(\n                data => {\n\n\n\n                    this.menuList = Array.of(data);\n                    this.groupLevel = false;\n                    this.listLevel = true;\n                    this.itemLevel = false;\n\n\n\n                },\n                error => {\n\n                    alert(JSON.stringify(error) + \" Сервер не отвечает.Ошибка подключения!\");\n                })\n\n    }\n    listBack() {\n        this.groupLevel = true;\n        this.listLevel = false;\n        this.itemLevel = false;\n    }\n    itemBack() {\n        this.groupLevel = false;\n        this.listLevel = true;\n        this.itemLevel = false;\n    }\n    itemListClick(id, name, node, price) {\n        this.itemid = id;\n        this.itemname = name;\n        this.itemnode = node;\n        this.itemprice = price;\n\n        this.groupLevel = false;\n        this.listLevel = false;\n        this.itemLevel = true;\n    }\n\n}\n"],"sourceRoot":""}